(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,n){},42:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(30),s=n.n(r),i=(n(42),n(31)),o=n(32),l=n(37),d=n(36),u=n.p+"static/media/logo.6ce24c58.svg",j=(n(11),n(8)),b=n.n(j),h=n(14),O=n(17),p=n.n(O);function g(e,t){return t<0&&Math.abs(t)>e.getDate()?(e.setMonth(e.getMonth()-1),e.setDate(e.getDate()+t+x(e.getMonth())),e):(e.setDate(e.getDate()+t),e)}function x(e){return"0, 2, 4, 6, 7, 9, 11".includes(e.toString())?31:2===e?28:30}function m(e){return e.includes("Pacific")?"America/Los_Angeles":e.includes("Eastern")?"America/New_York":e.includes("Central")?"America/Chicago":e.includes("Mountain")?"America/Denver":e.includes("Alaska")?"America/Anchorage":e.includes("Hawaii")?"Pacific/Honolulu":"Etc/GMT"}function v(e,t){var n=t.getTime()-e.getTime(),a=n/6e4,c=a/60,r=c/24;return{ms:n,minutes:a,hours:c,days:r,weeks:Math.floor(r/7),years:r/365}}function f(e){var t=new Date(e.getFullYear(),0,1,0,0),n=function(e){return 8-e.getDay()}(t);return t.setDate(n),v(t,e).weeks+1}function w(e){var t=function(e){var t=new Date(e).getDay(),n=0,a=0;return 0==t?a=6:1==t?(n=-1,a=5):2==t?(n=-2,a=4):3==t?(n=-3,a=3):4==t?(n=-4,a=2):5==t?(n=-5,a=1):6==t?n=-6:alert("no shift made"),{shiftLeft:n,shiftRight:a}}(e);console.log(t.shiftLeft+" "+t.shiftRight);var n=new Date(e),a=new Date(e);return{weekStartsOn:n=g(n,t.shiftLeft),weekEndsOn:a=g(a,t.shiftRight)}}var y=w(new Date("Mon Nov 29 2021"));console.log(y.weekStartsOn.toDateString()+" "+y.weekEndsOn.toDateString());var D="https://react-g-calendar-analyzer.herokuapp.com/",k=[],S=[],C=window.gapi,E=0;function L(){return(L=Object(h.a)(b.a.mark((function e(){var t,n,a,c,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.client.calendar.calendarList.list({});case 3:for(t=e.sent,n=t.result.items,a=0;a<n.length;a++)c=n[a],k.push(c.summary),r=g(new Date,7),s=g(new Date,-80),N("day",c.summary,c.id,s.toISOString(),r.toISOString());e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("error in requestAndStore-> listOfCalendars "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(e,t,n,a,c){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(b.a.mark((function e(t,n,a,c,r){var s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.client.calendar.events.list({calendarId:a,singleEvents:!0,orderBy:"startTime",timeZone:m((new Date).toString()),timeMin:c,timeMax:r,maxResults:2500});case 3:s=e.sent,i=s.result.items,new Date(c),new Date(r),i.forEach((function(e){if(E++,console.log("num of events is: "+E),void 0!==e.summary&&!e.start.date){S.includes(e.summary)||S.push(e.summary);var t=new Date(e.start.dateTime),a=new Date(e.end.dateTime),c=M(v(t,a).hours);if(t.getDate()!==a.getDate()){var r=new Date(t);r.setHours(23,59,59);var s=new Date(a);s.setHours(0,0,0);var i=f(t),o=f(a),l=t.getMonth(),d=a.getMonth(),u=M(v(t,r).hours),j=M(v(s,a).hours);H(t.toDateString(),e.summary,t,r,n,e.description,u,i,l),H(a.toDateString(),e.summary,s,a,n,e.description,j,o,d)}else{var b=f(t),h=t.getMonth();H(t.toDateString(),e.summary,t,a,n,e.description,c,b,h)}}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),alert("error in requestAndStore-> events: "+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function H(e,t,n,a,c,r,s,i,o){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(b.a.mark((function e(t,n,a,c,r,s,i,o,l){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"post",url:"".concat(D,"api/daily/"),data:{id:t,eventName:n,startTime:a,endTime:c,calName:r,description:s,duration:i,weekNum:o,monthNum:l}});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("error in requestAndStore-> sendPost: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function M(e){return Math.round(100*e)/100}var I=n(9),R=n(0);var P=function(){var e=c.a.useState(null),t=Object(I.a)(e,2),n=t[0],a=t[1];return c.a.useEffect((function(){fetch("/api").then((function(e){return e.json()})).then((function(e){return a(e.message)}))}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(R.jsx)("p",{children:n||"Loading..."})]})},B=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).gapi=window.gapi,e.API_KEY="AIzaSyBYxwNwT53EbvQNvhVCDD3FZW3KvTQWRBs",e.CLIENT_ID="958765352456-n0b4hg33876562lgerugi6qfei2jjaja.apps.googleusercontent.com",e.DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],e.SCOPES="https://www.googleapis.com/auth/calendar.readonly",e.authorizeButton=document.getElementById("authorize_button"),e.signoutButton=document.getElementById("signout_button"),e.handleClick=function(){e.gapi.load("client:auth2",(function(){console.log("loaded client"),e.gapi.client.init({apiKey:e.API_KEY,clientId:e.CLIENT_ID,discoveryDocs:e.DISCOVERY_DOCS,scope:e.SCOPES}),e.gapi.client.load("calendar","v3",(function(){return console.log("bam!")})),e.gapi.auth2.getAuthInstance().signIn().then((function(){e.updateSignInStatus(!0)})).catch((function(e){return alert("trying to sign in but: "+e.message)}))}))},e}return Object(o.a)(n,[{key:"updateSignInStatus",value:function(e){e&&function(){L.apply(this,arguments)}()}},{key:"render",value:function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsxs)("header",{className:"App-header",children:[Object(R.jsx)(P,{}),Object(R.jsxs)("p",{children:[" Edit ",Object(R.jsx)("code",{children:"src/App.js"})," and save to reload. "]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("button",{onClick:this.handleClick,children:" List Events  "}),Object(R.jsx)("button",{id:"authorize_button",style:{display:"none"},children:"Authorize"}),Object(R.jsx)("button",{id:"signout_button",style:{display:"none"},children:"Sign Out"})]}),Object(R.jsx)("pre",{id:"content",style:{whiteSpace:"pre-wrap"}}),Object(R.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})}}]),n}(c.a.Component),_=B,Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},F=n(7),W=n(2),z=function(){return Object(R.jsx)("h1",{children:"Contact Me"})},q=function(){return Object(R.jsx)("h1",{children:"Blog Articles"})};var G=function(e){var t=Object(a.useState)(null,e),n=Object(I.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[e]),c},K=function(e){var t=G(e.date),n=["Education","Entertainment","Life","MED","Work"],a={records:[]};if(t){var c=[];t.records.map((function(e){c.push(e.calName)}));for(var r=function(e){c.includes(n[e])?t.records.forEach((function(t){t.calName==n[e]&&(a.records[e]=t)})):a.records[e]={calName:n[e],TotalHours:0}},s=0;s<n.length;s++)r(s);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("th",{class:"tc",children:e.date.slice(11)}),a.records.map((function(e){return Object(R.jsxs)("td",{class:"tc",children:[" ",e.calName," : ",Math.round(100*e.TotalHours)/100," "]})}))]})}return"Loading"},U=function(e){var t=g(new Date,1).toDateString(),n=(new Date).toDateString(),a=g(new Date,-1).toDateString(),c=g(new Date,-2).toDateString(),r=g(new Date,-3).toDateString(),s=g(new Date,-4).toDateString(),i=g(new Date,-5).toDateString(),o=g(new Date,-6).toDateString();return Object(R.jsxs)("table",{class:"table is-bordered is-striped is-narrow",children:[Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(o)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(i)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(s)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(r)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(c)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(a)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(n)})," "]}),Object(R.jsxs)("tr",{class:"tc",children:[" ",Object(R.jsx)(K,{date:"/api/daily/".concat(t)})," "]})]})},V=n(6),J=n(33),Q=(n(64),n(18)),Z={counter:{productive:0,neutral:0,destructive:0,others:0},list:{productivityList:["education","med","work","tasks"],neturalList:["life"],destructiveList:["entertainment"]}},X=function(e){Z.counter={productive:0,neutral:0,destructive:0,others:0},e.forEach((function(e){Z.list.productivityList.includes(e.calName.toLowerCase())?Z.counter.productive+=e.totalHours:Z.list.neturalList.includes(e.calName.toLowerCase())?Z.counter.neutral+=e.totalHours:Z.list.destructiveList.includes(e.calName.toLowerCase())?Z.counter.destructive+=e.totalHours:Z.counter.others+=e.totalHours}))};function $(e){return Object(R.jsxs)("div",{class:"buttons has-addons ",children:[Object(R.jsx)("button",{class:"button",children:" Graph "}),Object(R.jsx)("button",{value:"table",class:"button is-selected",onClick:function(t){return ee(e.type,t.target.value)},children:" Table"}),Object(R.jsx)("button",{class:"button",children:" Text "})]})}var ee=function(e,t){"calendar"==e&&alert("in "+e+" view "+t+" is selected.")},te=function(e){var t=[{calName:"Hello",totalHours:100,id:"World"},{calName:"Hello",totalHours:100,id:"World"},{calName:"Hello",totalHours:100,id:"World"}];return e.dataC&&(t=e.dataC),Object(R.jsxs)("div",{class:"column",children:[Object(R.jsx)("p",{class:"is-centered",children:"Calendar"}),Object(R.jsx)($,{type:"calendar"}),Object(R.jsx)(ne,{columnsT:[{Header:"Calendar",accessor:"calName"},{Header:"Hours",accessor:"totalHours"}],dataT:t})]})};function ne(e){var t=c.a.useMemo((function(){return e.columnsT}),[]),n=e.dataT,a=Object(J.useTable)({columns:t,data:n}),r=a.getTableProps,s=a.getTableBodyProps,i=a.headerGroups,o=a.rows,l=a.prepareRow;return Object(R.jsxs)("table",Object(V.a)(Object(V.a)({class:"table"},r()),{},{style:{border:"solid 1px blue"},children:[Object(R.jsx)("thead",{children:i.map((function(e){return Object(R.jsx)("tr",Object(V.a)(Object(V.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(R.jsx)("th",Object(V.a)(Object(V.a)({},e.getHeaderProps()),{},{style:{border:"solid 1px blue",borderBottom:"solid 2px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:e.render("Header")}))}))}))}))}),Object(R.jsx)("tbody",Object(V.a)(Object(V.a)({},s()),{},{children:o.map((function(e){return l(e),Object(R.jsx)("tr",Object(V.a)(Object(V.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(R.jsx)("td",Object(V.a)(Object(V.a)({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray",background:"papayawhip"},children:e.render("Cell")}))}))}))}))}))]}))}var ae=function(e){var t=f(new Date(e.dateRange.weekEndsOn)),n=f(new Date);t==n-1?t="".concat(t," (previous week)"):t==n?t="".concat(t," (current week)"):t==n+1&&(t="".concat(t," (next week)"));return Object(R.jsxs)("div",{class:"column is-centered",children:[Object(R.jsxs)("h2",{children:["  Your week ",t," summary "]}),Object(R.jsx)(ce,{dateRange:e.dateRange,onClick:e.onClick,style:{height:10}}),Object(R.jsx)(re,{onClick:e.onClick,dateRange:e.dateRange}),Object(R.jsxs)("p",{children:["Today's date is ",Object(R.jsxs)("strong",{children:[(new Date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})," "]})," , week ",f(new Date),"  "]})]})},ce=function(e){var t=e.dateRange.weekStartsOn,n=e.dateRange.weekEndsOn,a={weekday:"short",month:"short",day:"numeric"};return t=t.toLocaleDateString("en-US",a),n=n.toLocaleDateString("en-US",a),Object(R.jsxs)("div",{class:"field has-addons is-centered",children:[Object(R.jsx)("p",{class:"control",children:Object(R.jsx)("button",{onClick:e.onClick,value:"left",id:"left-arrow",class:"button",children:Object(R.jsx)("span",{class:"icon is-small",children:Object(R.jsx)("i",{class:"fas fa-arrow-circle-left"})})})}),Object(R.jsx)("p",{class:"control",children:Object(R.jsx)("button",{class:"button textInside",children:Object(R.jsxs)("span",{id:"viewing",children:[" ",Object(R.jsxs)("strong",{children:[t," "]})," to ",Object(R.jsxs)("strong",{children:[" ",n," "]})]})})}),Object(R.jsx)("p",{class:"control",children:Object(R.jsx)("button",{onClick:e.onClick,value:"right",id:"right-arrow",class:"button",children:Object(R.jsx)("span",{class:"icon is-small",children:Object(R.jsx)("i",{class:"fas fa-arrow-alt-circle-right"})})})})]})},re=function(e){var t=e.dateRange.weekStartsOn,n=e.dateRange.weekEndsOn,c={from:{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()},to:{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}},r=Object(a.useState)(c),s=Object(I.a)(r,2);s[0],s[1];return Object(R.jsx)(Q.Calendar,{value:c,onChange:e.onClick,colorPrimary:"#0fbcf9",colorPrimaryLight:"rgba(75, 207, 250, 0.4)",shouldHighlightWeekends:!0})},se=function(e){var t=[Z.counter];return Object(R.jsxs)("div",{class:"column",children:[Object(R.jsx)("p",{children:" Productivity"}),Object(R.jsx)($,{type:"productivity"}),Object(R.jsx)(ne,{columnsT:[{Header:"Productive",accessor:"productive"},{Header:"Neutral",accessor:"neutral"},{Header:"Destructive",accessor:"destructive"}],dataT:t}),Object(R.jsxs)("p",{children:[" Total Hours: ",e.totalRecorded]})]})},ie=function(e){var t=Object(a.useState)(e.weekNum),n=Object(I.a)(t,2),c=n[0],r=n[1],s=G("/api/weekly/".concat(c)),i=null,o=0,l={weekStartsOn:new Date("Sun Oct 31 2021"),weekEndsOn:new Date("Sat Nov 5 2021")};s&&(i=s.records,X(i),l=w(i[0].id),o=Z.counter.productive+Z.counter.neutral+Z.counter.destructive+Z.counter.others);return Object(R.jsxs)("div",{class:"columns",children:[Object(R.jsx)(te,{dataC:i}),Object(R.jsx)(ae,{onClick:function(e){return function(e){if(e.target&&e.target.id)"right-arrow"==e.target.id?r(c+1):"left-arrow"==e.target.id&&r(c-1);else{var t=f(new Date("".concat(e.from.year,", ").concat(e.from.month,", ").concat(e.from.day)));r(t)}}(e)},dateRange:l}),Object(R.jsx)(se,{totalRecorded:o})]})};n(29);document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")}))}))}));var oe=function(){return Object(R.jsxs)("nav",{class:"navbar is-light",role:"navigation","aria-label":"main navigation",children:[Object(R.jsxs)("div",{class:"navbar-brand",children:[Object(R.jsx)(F.b,{to:"/",class:"navbar-item",children:Object(R.jsxs)("span",{class:"icon-text",children:[Object(R.jsx)("span",{class:"icon",children:Object(R.jsx)("i",{class:"fas fa-history"})}),Object(R.jsx)("span",{class:"m-0 p-0 has-text-link",id:"logo",children:"Lastweek"})]})}),Object(R.jsxs)("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(R.jsx)("span",{"aria-hidden":"true"}),Object(R.jsx)("span",{"aria-hidden":"true"}),Object(R.jsx)("span",{"aria-hidden":"true"})]})]}),Object(R.jsxs)("div",{id:"navbarBasicExample",class:"navbar-menu",children:[Object(R.jsxs)("div",{class:"navbar-start",children:[Object(R.jsx)(F.b,{to:"/daily",class:"navbar-item",children:" daily "}),Object(R.jsx)(F.b,{to:"/weekly",class:"navbar-item",children:" weekly "}),Object(R.jsx)(F.b,{to:"/monthly",class:"navbar-item",children:" Monthly "})]}),Object(R.jsxs)("div",{class:"navbar-end",children:[Object(R.jsxs)("div",{class:"navbar-item has-dropdown is-hoverable",children:[Object(R.jsx)(F.b,{to:"/more",class:"navbar-item",children:" More "}),Object(R.jsxs)("div",{class:"navbar-dropdown",children:[Object(R.jsx)("a",{class:"navbar-item",children:"About"}),Object(R.jsx)(F.b,{to:"/app",class:"navbar-item",children:" App "}),Object(R.jsx)(F.b,{to:"/contact",class:"navbar-item",children:" Contatct Me "}),Object(R.jsx)("hr",{class:"navbar-divider"}),Object(R.jsx)("a",{class:"navbar-item",children:"Report an issue"})]})]}),Object(R.jsx)("div",{class:"navbar-item",children:Object(R.jsxs)("div",{class:"buttons",children:[Object(R.jsx)("a",{class:"button is-primary",children:Object(R.jsx)("strong",{children:"Sign up"})}),Object(R.jsx)("a",{class:"button is-light",children:"Log in"})]})})]})]})]})};function le(){return Object(R.jsxs)(F.a,{children:[Object(R.jsx)(oe,{}),Object(R.jsxs)(W.c,{children:[Object(R.jsx)(W.a,{exact:!0,path:"/",children:Object(R.jsx)(z,{})}),Object(R.jsx)(W.a,{path:"/blogs",children:Object(R.jsx)(q,{})}),Object(R.jsx)(W.a,{path:"/contact",children:Object(R.jsx)(z,{})}),Object(R.jsx)(W.a,{path:"/app",children:Object(R.jsx)(_,{})}),Object(R.jsx)(W.a,{path:"/daily",children:Object(R.jsx)(U,{})}),Object(R.jsx)(W.a,{path:"/weekly",children:Object(R.jsx)(ie,{weekNum:43})})]})]})}s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(le,{})}),document.getElementById("root")),Y()}},[[73,1,2]]]);
//# sourceMappingURL=main.f252d0b1.chunk.js.map